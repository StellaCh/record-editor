<ng-template let-reference="item" #referenceTemplate>
  <re-reference-brief [reference]="reference"></re-reference-brief>
</ng-template>

<ng-template let-item="item" #affiliationAutocompleteTemplate>
  <re-affiliation-brief [affiliation]="item.payload"></re-affiliation-brief>
</ng-template>

<re-editor-toolbar [record]="record"></re-editor-toolbar>
<div class="editor-parent-container">
  <json-editor *ngIf="record && schema"
    [record]="record"
    [schema]="schema"
    [config]="config"
    [templates]="{referenceTemplate: referenceTemplate, affiliationAutocompleteTemplate: affiliationAutocompleteTemplate}"
    (onRecordChange)="onRecordChange($event)"
    [jsonPatches]="[{}]">
  </json-editor>
</div>